# ==============================================================================
# SIST_PIZZA - Variables de Entorno para Canales (Docker)
# Copiar a .env en la raíz del proyecto
# ==============================================================================

# ==============================================================================
# PostgreSQL (Canales - Puerto 5433)
# ==============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres_canales_2025
POSTGRES_DB=chatwoot

# ==============================================================================
# Chatwoot - Multi-channel Support Platform
# Puerto: 3001
# ==============================================================================
# IMPORTANTE: Generar con: openssl rand -hex 64
CHATWOOT_SECRET_KEY_BASE=replace-this-with-output-of-openssl-rand-hex-64-command

# URL pública de Chatwoot (cambiar en producción)
CHATWOOT_FRONTEND_URL=http://localhost:3001

# Email (opcional - dejar vacío para desarrollo sin email)
MAILER_SENDER_EMAIL=noreply@pizzeria.local
SMTP_ADDRESS=
SMTP_PORT=
SMTP_USERNAME=
SMTP_PASSWORD=

# ==============================================================================
# N8N - Workflow Automation
# Puerto: 5678
# ==============================================================================
# Credenciales de acceso a N8N UI
N8N_USER=admin
N8N_PASSWORD=SistPizza2025!

# Host/URL pública (cambiar en producción)
N8N_HOST=localhost
N8N_WEBHOOK_URL=http://localhost:5678

# Encryption key (cambiar en producción)
N8N_ENCRYPTION_KEY=sist-pizza-n8n-encryption-key-2025

# ==============================================================================
# WAHA - WhatsApp HTTP API
# Puerto: 3000
# ==============================================================================
# No requiere configuración adicional para desarrollo
# El QR se mostrará en logs al iniciar

# ==============================================================================
# Integración con Backend (SIST_PIZZA)
# ==============================================================================
# URL del backend para que N8N pueda enviar webhooks
BACKEND_URL=http://host.docker.internal:4000

# Claude API Key (para N8N workflows)
# Usar la misma que en backend/.env
ANTHROPIC_API_KEY=sk-ant-v1-test-key-for-development-only

# ==============================================================================
# NOTAS DE CONFIGURACIÓN
# ==============================================================================
# 1. Generar CHATWOOT_SECRET_KEY_BASE:
#    openssl rand -hex 64
#
# 2. Puertos utilizados:
#    - 3000: WAHA (WhatsApp API)
#    - 3001: Chatwoot (Support)
#    - 5678: N8N (Workflows)
#    - 5433: PostgreSQL Canales
#    - 6380: Redis Canales
#
# 3. El backend debe estar corriendo en puerto 4000 (host machine)
#    para que N8N pueda enviarle webhooks vía host.docker.internal
#
# 4. Para producción:
#    - Cambiar todas las contraseñas
#    - Usar dominio real en CHATWOOT_FRONTEND_URL y N8N_WEBHOOK_URL
#    - Configurar HTTPS con reverse proxy (nginx/traefik)
#    - Configurar SMTP real para emails de Chatwoot
