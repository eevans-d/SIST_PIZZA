â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘            ğŸ¯ SIST_PIZZA - GUÃA FINAL PARA EJECUTAR SQL EN SUPABASE          â•‘
â•‘                                                                              â•‘
â•‘                          LISTO PARA COPIAR-PEGAR                             â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ RESUMEN DE LO QUE NECESITAS HACER:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO 1: Ve a Supabase SQL Editor
   ğŸ”— https://supabase.com/dashboard/project/htvlwhisjpdagqkqnpxg/sql/new

PASO 2: Ejecuta el SCHEMA (crea las tablas)
   ğŸ“„ Archivo: PASO_2_SCHEMA_SQL.txt (en este proyecto)
   â±ï¸  Tiempo: 5 minutos
   
PASO 3: Ejecuta el SEED DATA (inserta datos de prueba)
   ğŸ“„ Archivo: PASO_3_SEED_DATA_SQL.txt (en este proyecto)
   â±ï¸  Tiempo: 3 minutos

PASO 4: Verifica en Supabase que todo estÃ¡ correcto
   ğŸ“Š Table Editor: https://supabase.com/dashboard/project/htvlwhisjpdagqkqnpxg/editor
   âœ“ DeberÃ­as ver 6 tablas
   âœ“ DeberÃ­as ver 25+ registros

PASO 5: Verifica que Backend se conecta
   ğŸ’» Terminal: curl http://localhost:4000/api/health | jq .
   âœ“ DeberÃ­as ver: "database": "ok"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ PASOS DETALLADOS (COPIA-PEGA):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO 2A: COPIAR SCHEMA SQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Abre el archivo: PASO_2_SCHEMA_SQL.txt                                  â”‚
â”‚ 2. Copia TODO el contenido SQL (comienza en "-- ============..." )          â”‚
â”‚ 3. No copies la parte de "INSTRUCCIONES" ni "âœ… DESPUÃ‰S DE..."             â”‚
â”‚ 4. Solo copia el cÃ³digo SQL                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 2B: PEGAR EN SUPABASE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ve a: https://supabase.com/dashboard/project/htvlwhisjpdagqkqnpxg/sql â”‚
â”‚ 2. Click en "New query"                                                    â”‚
â”‚ 3. Pega el contenido SQL que copiaste                                      â”‚
â”‚ 4. Click en "Run" (o presiona Ctrl+Enter)                                  â”‚
â”‚ 5. Espera 10 segundos...                                                   â”‚
â”‚ 6. Verifica que veas: âœ… "Success. No rows returned"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 3A: COPIAR SEED DATA SQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Abre el archivo: PASO_3_SEED_DATA_SQL.txt                               â”‚
â”‚ 2. Copia TODO el contenido SQL (comienza en "-- ============..." )          â”‚
â”‚ 3. No copies la parte de "INSTRUCCIONES" ni "âœ… DESPUÃ‰S DE..."             â”‚
â”‚ 4. Solo copia el cÃ³digo SQL                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 3B: PEGAR EN SUPABASE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ve a: https://supabase.com/dashboard/project/htvlwhisjpdagqkqnpxg/sql â”‚
â”‚ 2. Click en "New query" (NUEVAMENTE)                                       â”‚
â”‚ 3. Pega el contenido SEED DATA que copiaste                                â”‚
â”‚ 4. Click en "Run" (o presiona Ctrl+Enter)                                  â”‚
â”‚ 5. Espera 10 segundos...                                                   â”‚
â”‚ 6. Verifica que veas: âœ… "Success. No rows returned"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 4: VERIFICAR EN SUPABASE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ve a: https://supabase.com/dashboard/project/htvlwhisjpdagqkqnpxg     â”‚
â”‚ 2. MenÃº izquierdo â†’ ğŸ“Š "Table Editor"                                     â”‚
â”‚ 3. DeberÃ­as ver 6 tablas:                                                  â”‚
â”‚    âœ“ clientes (5 registros)                                               â”‚
â”‚    âœ“ menu_items (18 productos)                                            â”‚
â”‚    âœ“ pedidos (3 pedidos ejemplo)                                          â”‚
â”‚    âœ“ comandas (detalles de pedidos)                                       â”‚
â”‚    âœ“ pagos (informaciÃ³n de pagos)                                         â”‚
â”‚    âœ“ audit_logs (auditorÃ­a del sistema)                                   â”‚
â”‚                                                                            â”‚
â”‚ 4. Click en cada tabla para verificar datos                               â”‚
â”‚ 5. Ejemplo: Click en "menu_items" â†’ deberÃ­as ver 18 filas                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 5: HEALTH CHECK DEL BACKEND
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Abre una terminal en tu mÃ¡quina                                         â”‚
â”‚ 2. Ejecuta:                                                                â”‚
â”‚                                                                            â”‚
â”‚    curl http://localhost:4000/api/health | jq .                           â”‚
â”‚                                                                            â”‚
â”‚ 3. DeberÃ­as ver (IMPORTANTE: "database": "ok"):                           â”‚
â”‚                                                                            â”‚
â”‚    {                                                                       â”‚
â”‚      "status": "ok",                                                       â”‚
â”‚      "database": "ok",    â† Â¡ESTO DEBE SER "ok"!                         â”‚
â”‚      "integrations": {                                                     â”‚
â”‚        "supabase": true                                                    â”‚
â”‚      }                                                                     â”‚
â”‚    }                                                                       â”‚
â”‚                                                                            â”‚
â”‚ 4. Si ves "database": "ok" â†’ âœ… Â¡Ã‰XITO!                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš¨ SOLUCIÃ“N DE PROBLEMAS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA: "Error: relation does not exist"
â”œâ”€ CAUSA: No ejecutaste el SCHEMA SQL
â””â”€ SOLUCIÃ“N: Ejecuta primero PASO_2_SCHEMA_SQL.txt

PROBLEMA: "Error: duplicate key value violates unique constraint"
â”œâ”€ CAUSA: Ya ejecutaste el SEED DATA
â””â”€ SOLUCIÃ“N: No es un error, solo significa que ya estÃ¡n los datos.
           Puedes ignorarlo.

PROBLEMA: Health check muestra "database": "error"
â”œâ”€ CAUSA: Backend no logra conectarse a Supabase
â””â”€ SOLUCIONES:
   1. Verifica que .env tiene las credenciales correctas
   2. Verifica que las 6 tablas existen en Supabase
   3. Verifica que los datos fueron insertados (SEED DATA ejecutado)
   4. Reinicia el backend: pkill -f "npm run dev" && npm run dev

PROBLEMA: No veo datos en Table Editor
â”œâ”€ CAUSA: SEED DATA no se ejecutÃ³ correctamente
â””â”€ SOLUCIÃ“N: Ejecuta nuevamente PASO_3_SEED_DATA_SQL.txt

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š QUÃ‰ ESPERAR DESPUÃ‰S DE TODO:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… SUPABASE Dashboard:
   â€¢ 6 tablas creadas
   â€¢ 25+ registros de prueba
   â€¢ Sistema de pagos integrado
   â€¢ AuditorÃ­a habilitada

âœ… BACKEND:
   â€¢ http://localhost:4000 â†’ Respondiendo
   â€¢ Health check â†’ database: "ok"
   â€¢ Conectado a Supabase
   â€¢ Listo para webhooks

âœ… SISTEMA E2E:
   â€¢ Webhook N8N puede crear pedidos
   â€¢ Los pedidos se guardan en Supabase
   â€¢ Cliente puede consultar estado
   â€¢ Full integration lista

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â° TIEMPO TOTAL:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO 2 (Schema SQL):        5 minutos
PASO 3 (Seed Data SQL):     3 minutos
PASO 4 (VerificaciÃ³n):      2 minutos
PASO 5 (Health Check):      1 minuto
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL:                     11 minutos âš¡

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ ARCHIVOS QUE NECESITAS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En tu proyecto /home/eevan/ProyectosIA/SIST_PIZZA/:

1ï¸âƒ£  PASO_2_SCHEMA_SQL.txt
    â†’ Contiene el SQL para crear las 6 tablas

2ï¸âƒ£  PASO_3_SEED_DATA_SQL.txt
    â†’ Contiene el SQL para insertar 25+ registros

3ï¸âƒ£  supabase/migrations/20250115000000_initial_schema.sql
    â†’ Archivo fuente del SCHEMA (referencia)

4ï¸âƒ£  supabase/migrations/20250115000001_seed_data.sql
    â†’ Archivo fuente del SEED DATA (referencia)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ AHORA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abre PASO_2_SCHEMA_SQL.txt
2. Copia el SQL
3. PÃ©galo en Supabase SQL Editor
4. Click "Run"
5. Si ves "Success" â†’ ContinÃºa con PASO 3

Â¡VAMOS! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
