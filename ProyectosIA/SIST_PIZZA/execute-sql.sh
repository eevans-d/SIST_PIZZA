#!/bin/bash

# Script para ejecutar las migraciones SQL en Supabase
# Necesita tener los archivos SQL locales

echo "ğŸ”§ Script para ejecutar SQL en Supabase"
echo "======================================="
echo ""
echo "âš ï¸  IMPORTANTE: Debes ejecutar estos pasos MANUALMENTE en Supabase Dashboard"
echo ""
echo "ğŸ“‹ PASO 1: Schema (Crear Tablas)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Ve a: https://supabase.com/dashboard"
echo "2. Selecciona proyecto: htvlwhisjpdagqkqnpxg"
echo "3. Click en ğŸ”§ 'SQL Editor' (menÃº izquierdo)"
echo "4. Click en 'New query'"
echo "5. Copia COMPLETAMENTE el siguiente SQL:"
echo ""
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
cat /home/eevan/ProyectosIA/SIST_PIZZA/supabase/migrations/20250115000000_initial_schema.sql
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""
echo "6. PÃ©galo en el SQL Editor y click en 'Run' (Ctrl+Enter)"
echo "7. DeberÃ­as ver: âœ… 'Success. No rows returned'"
echo ""
echo ""
echo "ğŸ“‹ PASO 2: Seed Data (Insertar Datos)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Click en 'New query' nuevamente"
echo "2. Copia COMPLETAMENTE el siguiente SQL:"
echo ""
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
cat /home/eevan/ProyectosIA/SIST_PIZZA/supabase/migrations/20250115000001_seed_data.sql
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""
echo "3. PÃ©galo en el SQL Editor y click en 'Run'"
echo "4. DeberÃ­as ver: âœ… 'Success. No rows returned'"
echo ""
echo ""
echo "âœ… DespuÃ©s de ejecutar ambos scripts:"
echo "   1. Las 6 tablas estarÃ¡n creadas"
echo "   2. 25+ registros de prueba insertados"
echo "   3. Backend podrÃ¡ conectarse a Supabase"
echo "   4. El health check mostrarÃ¡: database: ok âœ…"
echo ""
